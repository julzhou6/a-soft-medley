---
import Link from "./Link.astro";
import Icon from "astro-icon";

const navData = [
    {
        name: "ABOUT",
        path: "/about",
    },
    {
        name: "BLOG",
        path: "/blog",
    },
    {
        name: "PROJECTS",
        path: "/projects",
    },
];
---

<nav aria-label="primary">
    <div class="nav-bar">
        <a id="home-link" href="/" aria-label="Go home">
            <Icon class="cat-icon" name="cat-icon" width="50" />
            <span class="title"><h1>Julie Zhou</h1></span>
        </a>

        <ul class="nav-list">
            {
                navData.map((item) => (
                    <Link
                        text={item.name}
                        href={item.path}
                        classes="nav-link"
                        data-navLink
                    />
                ))
            }
        </ul>
    </div>
</nav>

<style>
    a {
        text-decoration: none;
        color: black !important;
    }

    a:hover {
        color: var(--nav-light) !important;
    }

    .nav-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        max-width: 1500px;
        margin-left: auto;
        margin-right: auto;
        padding: 0.6rem 0;
        border-bottom: solid;
        border-bottom-width: 0.1rem;
    }

    [aria-label="primary"] {
        width: 100%;
    }

    .cat-icon {
        padding-right: 1rem;
        padding-left: 0.5rem;
    }

    .title {
        color: var(--nav-light);
        /* disappear on mobile screens */
    }

    #home-link {
        display: inline-flex;
    }

    .nav-list {
        padding-right: 0.5rem;
    }
</style>

<script>
    const navLinks = document.querySelectorAll("[data-navLink]");
    navLinks.forEach((link) => {
        if (window.location.pathname.includes(link.getAttribute("href"))) {
            link.setAttribute("aria-current", "page");
        }
    });
</script>
